---
import Layout from "../../layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import {
  languages,
  getLocalizedPath,
  type Language,
} from "@/i18n";

export const prerender = true;

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const { lang } = Astro.params as { lang: Language };

// Import the WebRTC guide markdown
import { Content as WebRTCContent, compiledContent } from '../../../content/webrtc-guide.md';
---

<Layout
  title="WebRTC Technical Guide - Slice"
  currentPath={getLocalizedPath("/webrtc-guide", lang)}
  lang={lang}
>
  <section
    class="min-h-screen py-24 bg-linear-to-br from-cream-50 to-cream-100 dark:from-dark-950 dark:to-dark-900"
  >
    <div class="max-w-6xl mx-auto px-4">
      <!-- Header -->
      <div
        class="flex flex-col items-start gap-4 mb-12 opacity-0 animate-fade-in"
        style="animation-delay: 100ms"
      >
        <h1
          class="text-3xl md:text-4xl font-display font-bold text-dark-900 dark:text-cream-100 mb-2"
        >
          WebRTC Technical Guide
        </h1>
        <p class="text-base text-dark-600 dark:text-dark-300">
          Complete technical notes on WebRTC, ICE, SDP, STUN, and TURN protocols
        </p>
      </div>

      <!-- WebRTC Technical Guide Content -->
      <div class="mb-16 opacity-0 animate-fade-in" style="animation-delay: 200ms">
        <div class="bg-white dark:bg-dark-800 rounded-3xl p-6 md:p-8 shadow-card">
          <article class="prose prose-base dark:prose-invert max-w-none">
            <WebRTCContent />
          </article>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .shadow-card {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
</style>